{% extends 'base.html' %}

{% block meta %}
<title>Series</title>
{% endblock meta %}

{% block auth_navbar %}
{% if status == False %}
<button class="navbar-toggler ml-auto custom-toggler" type="button" data-bs-toggle="collapse"
    data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false"
    aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
</button>

<div class="collapse navbar-collapse" id="navbarNavDropdown">
    <ul class="navbar-nav ms-auto">
        <li class="nav-item">
            <a class="nav-link" href="{% url 'authentication:login' %}">Login</a>
        </li>
        <span class="navbar-toggler-icon"></span>
        <li class="nav-item">
            <a class="nav-link" href="{% url 'authentication:register' %}">Register</a>
        </li>
    </ul>
</div>
{% else %}
<button class="navbar-toggler ml-auto custom-toggler" type="button" data-bs-toggle="collapse"
    data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false"
    aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
</button>

<div class="collapse navbar-collapse" id="navbarNavDropdown">
    <ul class="navbar-nav ms-auto">
        <li class="nav-item">
            <a class="nav-link" href="/">Homepage</a>
        </li>
        <span class="navbar-toggler-icon"></span>

        <li class="nav-item">
            <a class="nav-link" href="/tayangan/trailer/">Trailer</a>
        </li>
        <span class="navbar-toggler-icon"></span>

        <li class="nav-item">
            <a class="nav-link" href="/">Tayangan</a>
        </li>
        <span class="navbar-toggler-icon"></span>

        <li class="nav-item">
            <a class="nav-link" href="/">Kontributor</a>
        </li>
        <span class="navbar-toggler-icon"></span>

        <li class="nav-item">
            <a class="nav-link" href="/">Favorit</a>
        </li>
        <span class="navbar-toggler-icon"></span>

        <li class="nav-item">
            <a class="nav-link" href="/">Unduhan</a>
        </li>
        <span class="navbar-toggler-icon"></span>

        <li class="nav-item">
            <a class="nav-link" href="/">Langganan</a>
        </li>
        <span class="navbar-toggler-icon"></span>

        <li class="nav-item">
            <a class="nav-link" style="background-color:red; border-radius: 20px;"
                href="/authentication/logout">Logout</a>
        </li>
    </ul>
</div>
{% endif %}
{% endblock auth_navbar %}

{% block content %}
<div class="container py-4" style="margin-top: 20px; box-shadow: 0 0 10px rgba(0, 0, 0, 0.3); background-color: #fff;">
    <h1 class="row justify-content-center">
        Series
    </h1>
    <div class="row justify-content-center">
        <div class="col-md-8">
            <table class="table">
                <thead>
                    <tr>
                        <th>Information</th>
                        <th>Details</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Judul</td>
                        <td>{{series.judul}}</td>
                    </tr>
                    <tr>
                        <td>Episode</td>
                        <td>
                            <ul>
                                {% for episode in list_episode %}
                                <li><a href="../episode/{{episode.id_series}}-{{forloop.counter}}">{{episode.sub_judul}}</a></li>
                                {% endfor %}
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <td>Total View</td>
                        <td>{{total_views}}</td>
                    </tr>
                    <tr>
                        <td>Rating Rata-rata</td>
                        <td>{{rating_avg}}</td>
                    </tr>
                    <tr>
                        <td>Sinopsis</td>
                        <td>{{series.sinopsis}}</td>
                    </tr>
                    <tr>
                        <td>Genre</td>
                        <td>
                            <ul>
                                {% for genre in list_genre %}
                                <li>{{genre.genre}}</li>
                                {% endfor %}
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <td>Asal Negara</td>
                        <td>{{series.asal_negara}}</td>
                    </tr>
                    <tr>
                        <td>Pemain</td>
                        <td>
                            <ul>
                                {% for pemain in list_pemain %}
                                <li>{{pemain.nama}}</li>
                                {% endfor %}
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <td>Penulis Skenario</td>
                        <td>
                            <ul>
                                {% for skenario in list_skenario %}
                                <li>{{skenario.nama}}</li>
                                {% endfor %}
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <td>Sutradara</td>
                        <td>{{sutradara.nama}}</td>
                    </tr>
                    <tr>
                        <td>ULASAN</td>
                        <td>[DATA]</td>
                    </tr>
                </tbody>
            </table>
            <button type="button" class="btn btn-secondary mt-3" id="downloadButton">Download</button>
            <button type="button" class="btn btn-success mt-3" id="favoriteButton">Favorite</button>
        </div>
    </div>
    <hr class="my-4">
    <div class="mb-5">
        <h2>Ulasan</h2>
    </div>
    <div class="mb-3 w-50 d-flex flex-column">
        <label for="exampleFormControlTextarea1" class="form-label fs-5 fw-medium">Berikan ratingmu</label>
        <div class="">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">
                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
            </svg>
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">
                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
            </svg>
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">
                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
            </svg>
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">
                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
            </svg>
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">
                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
            </svg>
        </div>
    </div>
    <div class="my-3 w-50">
        <label for="exampleFormControlTextarea1" class="form-label fs-5 fw-medium">Tuliskan Ulasan</label>
        <textarea 
            class="form-control" 
            id="exampleFormControlTextarea1" 
            rows="4" 
            cols="5"
            placeholder="Tulis Ulasanmu di sini"></textarea>
    </div>
    <button type="button" class="btn btn-primary mb-4 fw-semibold">Kirim</button>
    <div class="mb-3 w-50">
        <label for="exampleFormControlTextarea1" class="form-label fs-5 fw-medium">Ulasan pengguna lainnya</label>
    </div>
    <div class="container">
        {% for ulasan in list_ulasan %}
        <div class="shadow p-4 mb-5 bg-body-tertiary rounded">
            <div class="d-flex justify-content-between">
                <div class="mt-2 mb-4 fs-5 fw-semibold">
                    {{ulasan.username}}
                    <p style="font-size: small;">{{ulasan.timestamp}}</p>
                </div>
                <div class="d-flex flex-row gap-2 align-items-start">
                    <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-star-fill text-warning" viewBox="0 0 16 16">
                        <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                    </svg>
                    <div class="d-flex flex-row">
                        <p class="fs-5 fw-semibold">{{ulasan.rating}}</p><span class="fs-6 fw-light">/5</span>
                    </div>
                </div>
            </div>
            <div class="bg-white rounded p-4" style="text-align: justify;">
                {{ulasan.deskripsi}}
            </div>
        </div>
        {% endfor %}
        {% comment %} <div class="shadow p-4 mb-5 bg-body-tertiary rounded">
            <div class="d-flex justify-content-between">
                <div class="mt-2 mb-4 fs-5 fw-semibold">
                    Rizkieditor77
                </div>
                <div class="d-flex flex-row gap-2 align-items-start">
                    <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-star-fill text-warning" viewBox="0 0 16 16">
                        <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                    </svg>
                    <div class="d-flex flex-row">
                        <p class="fs-5 fw-semibold">4.6</p><span class="fs-6 fw-light">/5</span>
                    </div>
                </div>
            </div>
            <div class="bg-white rounded p-4" style="text-align: justify;">
                "The Pursuit of Happyness" adalah film yang menginspirasi tentang kekuatan 
                tekad dan ketabahan dalam menghadapi kesulitan hidup. Akting Will 
                Smith dan chemistry dengan putranya luar biasa. Ceritanya menyentuh 
                hati dan mengajarkan nilai-nilai tentang keberanian dan harapan. Lorem ipsum dolor sit amet, consectetur adipisicing elit. 
                Voluptates quaerat facere eligendi aliquid eveniet! Nulla dignissimos omnis facere aliquam deleniti dolorem iure iusto est 
                officia. Nobis, libero. Dolor, sequi officiis.

            </div>
        </div>
        <div class="shadow p-4 mb-5 bg-body-tertiary rounded">
            <div class="d-flex justify-content-between">
                <div class="mt-2 mb-4 fs-5 fw-semibold">
                    Rizkieditor77
                </div>
                <div class="d-flex flex-row gap-2 align-items-start">
                    <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-star-fill text-warning" viewBox="0 0 16 16">
                        <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                    </svg>
                    <div class="d-flex flex-row">
                        <p class="fs-5 fw-semibold">4.6</p><span class="fs-6 fw-light">/5</span>
                    </div>
                </div>
            </div>
            <div class="bg-white rounded p-4" style="text-align: justify;">
                "The Pursuit of Happyness" adalah film yang menginspirasi tentang kekuatan 
                tekad dan ketabahan dalam menghadapi kesulitan hidup. Akting Will 
                Smith dan chemistry dengan putranya luar biasa. Ceritanya menyentuh 
                hati dan mengajarkan nilai-nilai tentang keberanian dan harapan. Lorem ipsum dolor sit amet, consectetur adipisicing elit. 
                Voluptates quaerat facere eligendi aliquid eveniet! Nulla dignissimos omnis facere aliquam deleniti dolorem iure iusto est 
                officia. Nobis, libero. Dolor, sequi officiis.

            </div>
        </div> {% endcomment %}
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"
    integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct"
    crossorigin="anonymous"></script>
{% endblock content %}